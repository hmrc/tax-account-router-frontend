@import model.Location
@(location: Location, eventName: String, gaToken: String)
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8" />

    <title>Redirecting</title>

    <script>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
                    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
                m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

        ga('create', '@{gaToken}', 'auto');
        ga('send', 'event', 'routing', '@{location.name}', '@{eventName}', {
          'hitCallback': function() {
            window.location='@Html(location.fullUrl)';
          }
        });

        setTimeout(function() {
            window.location='@Html(location.fullUrl)';
        }, 3000);

    </script>
  </head>

  <body>
      <p id="non-js-only"><a href="@Html(location.fullUrl)">Click here if you are not redirected within a few seconds</a></p>
    <script type="text/javascript">document.getElementById("non-js-only").setAttribute("style", "display:none;");</script>
  </body>
</html>